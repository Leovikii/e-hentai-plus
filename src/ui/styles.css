/* Base styles */
html, body { background-color: #111 !important; color: #ccc !important; margin: 0; overflow-x: hidden; }
#gdt { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 1200px; margin: auto; padding-bottom: 100px; }

/* Scroll mode */
.page-batch { width: 100%; display: flex; flex-direction: column; align-items: center; margin-bottom: 60px; }
.r-img { display: block; width: auto; max-width: 100%; margin-bottom: 20px; background: transparent; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
.r-ph { color: #555; margin-bottom: 50px; text-align: center; min-height: 400px; display: flex; align-items: center; justify-content: center; font-family: sans-serif; font-size: 18px; border: 1px dashed #333; width: 100%; flex-direction: column; gap: 10px; }
.r-ph.loading { color: #888; border-color: #555; }
.r-ph.error { color: #d44; border-color: #d44; }
.retry-btn { padding: 8px 16px; background: #333; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; margin-top: 10px; }
.retry-btn:hover { background: #555; }

/* Float control — horizontal: [play] [circle] [settings] */
.float-control { position: fixed; right: 30px; bottom: 30px; z-index: 9999; display: flex; flex-direction: row; align-items: center; gap: 0; transition: opacity 0.3s; -webkit-user-select: none; user-select: none; }
.float-control.hidden { opacity: 0; pointer-events: none; }

/* Top button (above the circle control) */
.side-btn.top-btn { position: absolute; bottom: calc(100% + 10px); left: 50%; transform: translateX(-50%); opacity: 0.3; pointer-events: auto; }
.float-control:hover .side-btn.top-btn { opacity: 0.8; }
.side-btn.top-btn:hover { opacity: 1 !important; background: #555; transform: translateX(-50%) scale(1.1); }

/* Side buttons (play & settings) */
.side-btn { width: 36px; height: 36px; background: #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; opacity: 0; pointer-events: none; }
.float-control:hover .side-btn { opacity: 1; pointer-events: auto; }
.side-btn:hover { background: #555; transform: scale(1.1); }
.side-btn svg { width: 18px; height: 18px; fill: #fff; }
.side-btn.active { background: #4CAF50; }
.side-btn.active:hover { background: #5CBF60; }
.auto-play-btn.hidden { display: none; }

/* Circle control — reader mode button */
.circle-control { position: relative; width: 50px; height: 50px; background: #1a1a1a; border: 2px solid #555; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(0,0,0,0.5); margin: 0 6px; }
.circle-control:hover { border-color: #888; box-shadow: 0 6px 16px rgba(0,0,0,0.7); transform: scale(1.05); }
.circle-control svg { width: 24px; height: 24px; fill: #fff; }

/* Settings button & panel */
.settings-btn { cursor: pointer; }
.settings-panel { position: absolute; bottom: calc(100% + 10px); right: 0; background: #1a1a1a; border: 1px solid #555; border-radius: 8px; padding: 12px; min-width: 180px; opacity: 0; pointer-events: none; transition: all 0.3s; box-shadow: 0 4px 12px rgba(0,0,0,0.5); transform: translateY(5px); }
.settings-panel.show { opacity: 1; pointer-events: auto; transform: translateY(0); }

/* Settings items */
.settings-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; font-size: 13px; color: #ccc; }
.settings-item:last-child { margin-bottom: 0; }
.settings-label { margin-right: 10px; white-space: nowrap; }

/* Toggle switch */
.toggle-switch { width: 40px; height: 20px; background: #333; border-radius: 10px; position: relative; cursor: pointer; transition: background 0.3s; }
.toggle-switch.on { background: #4CAF50; }
.toggle-slider { width: 16px; height: 16px; background: #fff; border-radius: 50%; position: absolute; top: 2px; left: 2px; transition: left 0.3s; }
.toggle-switch.on .toggle-slider { left: 22px; }

/* Interval input */
.interval-input { width: 60px; background: #333; border: 1px solid #555; border-radius: 4px; color: #fff; padding: 4px 8px; font-size: 12px; text-align: center; }
.interval-input:focus { outline: none; border-color: #888; }

/* Single page overlay */
.single-page-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #000; z-index: 9998; display: none; align-items: center; justify-content: center; }
.single-page-overlay.active { display: flex; }
.sp-image-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; position: relative; }
.sp-current-image { width: 100%; height: 100%; object-fit: contain; user-select: none; }
.sp-close-btn { position: absolute; top: 20px; right: 20px; width: 40px; height: 40px; background: rgba(51,51,51,0.8); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 24px; color: #fff; transition: all 0.3s; z-index: 10; }
.sp-close-btn:hover { background: rgba(85,85,85,0.9); transform: scale(1.1); }

/* Single page scrollbar */
.sp-scrollbar { position: absolute; right: 40px; top: 10%; width: 12px; height: 80%; background: rgba(40,40,40,0.3); border-radius: 6px; z-index: 10; transition: background 0.3s; }
.sp-scrollbar:hover { background: rgba(50,50,50,0.5); }
.sp-scrollbar-thumb { position: absolute; left: 0; width: 100%; min-height: 60px; background: rgba(255,255,255,0.4); border-radius: 6px; transition: background 0.3s; cursor: grab; user-select: none; }
.sp-scrollbar-thumb:hover { background: rgba(255,255,255,0.6); }
.sp-scrollbar-thumb:active { cursor: grabbing; background: rgba(255,255,255,0.7); }
.sp-scrollbar-label { position: absolute; right: calc(100% + 16px); top: 50%; transform: translateY(-50%); background: rgba(26,26,26,0.95); padding: 8px 14px; border-radius: 8px; color: #fff; font-family: monospace; font-size: 14px; white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
.sp-scrollbar:hover .sp-scrollbar-label { opacity: 1; }
.sp-loading { color: #888; font-size: 18px; font-family: sans-serif; }

/* Single page loading placeholder */
.sp-placeholder { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
.sp-placeholder-pulse { width: 60%; max-width: 500px; height: 60%; background: #181818; border-radius: 8px; animation: sp-pulse 1.5s ease-in-out infinite; }
.sp-placeholder-text { position: absolute; color: #666; font-family: monospace; font-size: 16px; user-select: none; }
@keyframes sp-pulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.6; } }
